<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Successful - Small Print Checker</title>
    <link rel="stylesheet" href="/static/style.css">
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
</head>
<body>
    <div class="container">
        {% include 'components/header.html' %}

        <!-- Main Content -->
        <main class="main-content">
            <div class="payment-success-container">
                <div class="success-card">
                    <div class="success-icon">âœ…</div>
                    <h1>Payment Successful!</h1>
                    <p class="success-message">Welcome to Small Print Checker Pro! You now have unlimited access to all features.</p>
                    
                    <div class="pro-features">
                        <h3>Your Pro Features:</h3>
                        <ul>
                            <li>âœ… Unlimited document analysis</li>
                            <li>âœ… Side-by-side document comparison</li>
                            <li>âœ… Export to PDF, Word, and Excel</li>
                            <li>âœ… Advanced analytics and insights</li>
                            <li>âœ… Priority customer support</li>
                        </ul>
                    </div>
                    
                    <div class="success-actions">
                        <a href="/upload" class="btn-primary">Start Analyzing</a>
                        <a href="/profile" class="btn-secondary">View Profile</a>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Check if there are stored analysis results to show
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const userId = urlParams.get('user_id');
            
            if (userId) {
                // Check for stored analysis results
                const storedResults = localStorage.getItem(`temp_analysis_${userId}`);
                if (storedResults) {
                    // Show a message about preserved results
                    const successCard = document.querySelector('.success-card');
                    const preservedMessage = document.createElement('div');
                    preservedMessage.className = 'preserved-results-message';
                    preservedMessage.style.cssText = 'background: #e7f3ff; border: 1px solid #b3d9ff; padding: 15px; border-radius: 8px; margin: 20px 0;';
                    preservedMessage.innerHTML = `
                        <h4>ðŸ“„ Your Analysis Results</h4>
                        <p>Your document analysis results have been preserved and are ready to view. Click "Start Analyzing" to see your detailed results.</p>
                    `;
                    successCard.appendChild(preservedMessage);
                }
            }
        });
    </script>
    
    {% include 'components/footer.html' %}
</body>
</html>